import{s as a}from"./sweetalert2.all-HcawA3vp.js";import{_ as p,c as m,a as e,w as f,b as l,v as c,o as _}from"./index-Q1zUJtak.js";var h={VITE_API:"https://ec-course-api.hexschool.io/",VITE_PATH:"eerovuelive",BASE_URL:"/HexSchool-2023Vue-Week4/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_API:v}=h,d={showConfirmButton:!1,timer:1500},w={data(){return{user:{username:"",password:""}}},methods:{postLogin(){Object.values(this.user).includes("")||this.$http.post(`${v}v2/admin/signin`,this.user).then(s=>{const{token:r,expired:n,message:t}=s.data;document.cookie=`homeWork=${r}; expires=${new Date(n)};`,a.fire({...d,icon:"success",title:t}),this.$router.push("/productList")}).catch(s=>{const{message:r}=s.response.data;a.fire({...d,icon:"error",title:r})})}}},g={class:"d-flex justify-content-center align-items-center vh-100"},x={class:"container-fluid"},b={class:"row justify-content-center"},V={class:"col-10 col-md-6 col-xl-2"},y=e("h2",{class:"text-center mb-4"},"使用者登入",-1),E={class:"form-floating mb-3"},I=e("label",{for:"floatingInput"},"信箱",-1),k={class:"form-floating mb-3"},L=e("label",{for:"floatingPassword"},"密碼",-1),P=e("button",{type:"submit",class:"btn btn-primary w-100"},"登入",-1),B=e("p",{class:"mt-5 pt-5 h5 text-center text-secondary"}," 六角學院 2023 Vue 直播班-第四週主線任務 ",-1);function D(u,s,r,n,t,i){return _(),m("div",g,[e("div",x,[e("div",b,[e("div",V,[e("form",{onSubmit:s[2]||(s[2]=f((...o)=>i.postLogin&&i.postLogin(...o),["prevent"]))},[y,e("div",E,[l(e("input",{type:"email",class:"form-control",id:"floatingInput",placeholder:"email","onUpdate:modelValue":s[0]||(s[0]=o=>t.user.username=o)},null,512),[[c,t.user.username,void 0,{trim:!0}]]),I]),e("div",k,[l(e("input",{type:"password",class:"form-control",id:"floatingPassword",placeholder:"password","onUpdate:modelValue":s[1]||(s[1]=o=>t.user.password=o)},null,512),[[c,t.user.password,void 0,{trim:!0}]]),L]),P],32)])]),B])])}const A=p(w,[["render",D]]);export{A as default};
